[gd_scene load_steps=9 format=3 uid="uid://dhbg084m25sba"]

[ext_resource type="Script" path="res://main/main.gd" id="1_q7iv8"]
[ext_resource type="PackedScene" uid="uid://d0xow5b8nlpe" path="res://main/ui/UI.tscn" id="2_3alot"]
[ext_resource type="PackedScene" uid="uid://6k0xopk251al" path="res://main/dungeon/debug/DebugDungeon.tscn" id="2_6nfyl"]
[ext_resource type="Script" path="res://main/battle/party/party.gd" id="2_eowhd"]
[ext_resource type="PackedScene" uid="uid://chegfk5hr6hvm" path="res://main/dungeon/player/Player.tscn" id="3_20b0g"]
[ext_resource type="PackedScene" uid="uid://cbrs5f54834bb" path="res://main/battle/fighter/eve/Eve.tscn" id="3_ak8v6"]
[ext_resource type="Shader" path="res://main/shader/crt.gdshader" id="5_m5sia"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wjnvb"]
shader = ExtResource("5_m5sia")
shader_parameter/overlay = true
shader_parameter/scanlines_opacity = 0.03
shader_parameter/scanlines_width = 0.25
shader_parameter/grille_opacity = 0.03
shader_parameter/resolution = Vector2(640, 480)
shader_parameter/pixelate = false
shader_parameter/roll = false
shader_parameter/roll_speed = 8.0
shader_parameter/roll_size = 15.0
shader_parameter/roll_variation = 1.8
shader_parameter/distort_intensity = 0.05
shader_parameter/noise_opacity = 0.0
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.02
shader_parameter/aberration = 0.00700005
shader_parameter/brightness = 1.3
shader_parameter/discolor = true
shader_parameter/warp_amount = 0.2
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.2
shader_parameter/vignette_opacity = 0.5

[node name="Main" type="Node"]
script = ExtResource("1_q7iv8")

[node name="PlayerParty" type="Node" parent="."]
script = ExtResource("2_eowhd")

[node name="Eve" parent="PlayerParty" instance=ExtResource("3_ak8v6")]

[node name="BattleQueue" type="Node" parent="."]

[node name="ViewportContainer" type="SubViewportContainer" parent="."]
texture_filter = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="Viewport" type="SubViewport" parent="ViewportContainer"]
handle_input_locally = false
size = Vector2i(427, 240)
render_target_update_mode = 4

[node name="RenderContainer" type="VBoxContainer" parent="ViewportContainer/Viewport"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="DungeonViewportContainer" type="SubViewportContainer" parent="ViewportContainer/Viewport/RenderContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true

[node name="DungeonViewport" type="SubViewport" parent="ViewportContainer/Viewport/RenderContainer/DungeonViewportContainer"]
handle_input_locally = false
use_taa = true
canvas_item_default_texture_filter = 0
size = Vector2i(427, 166)
render_target_update_mode = 4

[node name="DebugDungeon" parent="ViewportContainer/Viewport/RenderContainer/DungeonViewportContainer/DungeonViewport" instance=ExtResource("2_6nfyl")]

[node name="Player" parent="ViewportContainer/Viewport/RenderContainer/DungeonViewportContainer/DungeonViewport" instance=ExtResource("3_20b0g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0.5)

[node name="Blocker" type="ColorRect" parent="ViewportContainer/Viewport/RenderContainer"]
custom_minimum_size = Vector2(0, 70)
layout_mode = 2
size_flags_vertical = 8

[node name="UI" parent="ViewportContainer/Viewport" instance=ExtResource("2_3alot")]

[node name="Filter" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_wjnvb")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
